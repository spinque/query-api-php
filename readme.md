# spinque/query-api-php

Library to use the Spinque Query API in your PHP project. 

The Spinque Query API is an HTTP API to retrieve search results for queries. Also check out the [documentation of the Spinque Query API](https://docs.spinque.com/3.0/using-apis/basic.html).

## Installing

This package can be used through composer. In your `composer.json` file, specify:

```
  "require": {
      "spinque/query-api": "dev-main"
  }
```
then, in order to install the dependencies for your project:

```bash
$ php composer.phar update
```

## Documentation

For documentation on the Spinque Query API itself, please see [this](https://docs.spinque.com/3.0/using-apis/basic.html).

### Defining queries

```php
<?php

require_once __DIR__ . '/vendor/autoload.php';

$api = new Api(
    array(
        'workspace' => 'course-chris',
        'config' => 'default',
        'api' => 'movies'
    )
);


$queries = [
    new Query('movie_search', array('query' => 'Keanu Reeves'))
];

try {
    echo $api->fetch($queries);
} catch (Exception $e) {
    echo $e;
}
```

### Authentication

Some Spinque APIs require authentication using OAuth 2.0. Support for the Client Credentials flow (for server applications) is provided through this library:

```php
<?php

require_once __DIR__ . '/vendor/autoload.php';

$api = new Api(
    array(
        'workspace' => 'course-chris',
        'config' => 'default',
        'api' => 'movies',
        'authentication' => array(
            'authServer' => 'https://login.spinque.com',
            'clientId' => '<CLIENT-ID>',
            'clientSecret' => '<CLIENT-SECRET>',
        )
    )
);
```

Note: the Client ID and Client Secret can be generated by creating a new System-to-System account in the Settings > Team Members section of Spinque Desk.
